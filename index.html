<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Lulo by Nordenfelt</title>
</head>

<body>
<header>
    <div class="inner">
        <h1>Lulo</h1>
        <h2>A plugin engine for AWS CloudFormation Custom Resources</h2>
        <a href="https://github.com/By-Nordenfelt-AB/lulo" class="button"><small>View project on</small> GitHub</a>
    </div>
</header>

<div id="content-wrapper">
    <div class="inner clearfix">
        <section id="main-content">
            <h1>
                <a id="lulo" class="anchor" href="#lulo" aria-hidden="true"><span aria-hidden="true"
                                                                                  class="octicon octicon-link"></span></a>lulo
            </h1>

            <p>lulo is a tiny plugin based framework for working with
                <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">AWS CloudFormation Custom Resources</a>.
                lulo itself doesn't do much but is easily extended by registering plugins.
            </p>

            <h2>
                <a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true"
                                                                                                  class="octicon octicon-link"></span></a>Installation
            </h2>

            <pre><code>$ npm install lulo --save
</code></pre>

            <h2>
                <a id="plugins" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true"
                                                                                      class="octicon octicon-link"></span></a>Plugins
            </h2>

            <p>lulo doesn't provide any CustomResources out of the box so you have to install the plugins you want and
                register them (see usage below).</p>

            <p>For a complete list of available plugins, see <a href="/lulo/plugins.html">the plugin page</a>.</p>
            <h3>Contribute Plugins</h3>
            <p>
                Want to contribute with your own plugins?
                Check out the <a href="https://by-nordenfelt-ab.github.io/lulo/writing-plugins.html">How to write plugins page</a>
            </p>
            <h2>
                <a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true"
                                                                                    class="octicon octicon-link"></span></a>Usage
            </h2>

            <h3>
                <a id="example-lambda-indexjs" class="anchor" href="#example-lambda-indexjs" aria-hidden="true"><span
                        aria-hidden="true" class="octicon octicon-link"></span></a>Example Lambda index.js</h3>

            <div class="highlight highlight-source-js">
                <pre><code>import { Lulo } from 'lulo';
import { CloudFormationCustomResourceEvent, Context } from 'aws-lambda';
import * as myPlugin from 'my-plugin';

const lulo = new Lulo()
    .register('MyPlugin', myPlugin);

export async function handler(event: CloudFormationCustomResourceEvent, context: Context): Promise&lt;void&gt; {
    await lulo.handler(event, context);
}</code></pre>
            </div>

            <p>Package your index.ts and node_modules and deploy to Lambda (nodejs18.x runtime or later).</p>

            <h4>
                <a id="configuration" class="anchor" href="#aws-cloudformation-template" aria-hidden="true">
                    <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                Configuration
            </h4>
            <p>Lulo offers a small set of configuration parameters:</p>
            <ul>
                <li><b>logEvent:</b> Set to true if you want to log the incoming Lambda event to CloudWatch Logs</li>
                <li><b>logResponse:</b> Set to true if you want to log the outgoing CloudFormation response to CloudWatch Logs</li>
                <li><b>maskedProperties:</b> Array or property names that you want masked when logging events. Note that these do not apply to the response logging.</li>
            </ul>

            <h3>
                <a id="aws-cloudformation-template" class="anchor" href="#aws-cloudformation-template" aria-hidden="true">
                    <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                AWS CloudFormation template
            </h3>

            <div class="highlight highlight-source-js">
                <pre><code>{
    "MyCustomResourceName": {
        "Type": "Custom::PluginNameSpace",
        "Properties": {
            "ServiceToken": "{LAMBDA_ARN}",
            ...
        }
    },
    "MyOtherCustomResourceName": {
        "Type": "Custom::AnotherPluginNameSpace",
        "Properties": {
            "ServiceToken": "{LAMBDA_ARN}",
            ...
        }
    }
}</code></pre>
            </div>

            <p>
                See the <a href="https://github.com/By-Nordenfelt-AB/lulo/tree/main/example">example</a> for a complete
                example
            </p>

            <h4>
                <a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true">
                    <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                How it works
            </h4>

            <p>
                When you register a plugin you have to give it a name.
                To invoke the plugin you reference the plugin name in your CloudFormation template: <code>Custom::RegisteredPluginName</code>.
            </p>

            <p>
                Each plugin works in different ways and may yield different types of results that you can interact with
                in your templates. Please refer to the plugin specific documentation for further details.
            </p>

            <p>
                If you have private plugins that you don't want to publish as npm modules it's perfectly fine to bundle those with your Lambda function
                as long as they expose the same API as a regular plugin.
            </p>

            <h2>
                <a id="why-lulo" class="anchor" href="#why-lulo" aria-hidden="true">
                    <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                Why Lulo?
            </h2>

            <p>
                Because it's a <a href="https://en.wikipedia.org/wiki/Solanum_quitoense">very healthy fruit</a> :)
            </p>

            <h2>
                <a id="license" class="anchor" href="#license" aria-hidden="true">
                    <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                License
            </h2>

            <p>
                <a href="https://github.com/By-Nordenfelt-AB/lulo/blob/main/LICENSE">The MIT License (MIT)</a>
            </p>

            <h2>
                <a id="change-log" class="anchor" href="#change-log" aria-hidden="true">
                    <span aria-hidden="true" class="octicon octicon-link"></span>
                </a>
                Change Log
            </h2>

            <p>
                <a href="https://github.com/By-Nordenfelt-AB/lulo/blob/main/CHANGELOG.md">Change Log</a>
            </p>
        </section>

        <aside id="sidebar">
            <h3>Installation</h3>
            <code>npm install lulo --save</code>

            <h3>Plugins</h3>
            <p>
                <a href="https://By-Nordenfelt-AB.github.io/lulo/plugins.html">Available plugins</a><br>
                <a href="https://By-Nordenfelt-AB.github.io/lulo/writing-plugins.html">Writing plugins</a><br>
                <a href="https://by-nordenfelt-ab.github.io/lulo/migrating-plugins-to-v4.html">Migrating plugins to v4</a>
            </p>

            <h3>Documentation</h3>
            <p>
                <a href="https://By-Nordenfelt-AB.github.io/lulo">Documentation</a>
            </p>

            <p class="repo-owner">
                Maintained by <a href="https://github.com/carlnordenfelt">carlnordenfelt</a>.
            </p>

            <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme
                by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
    </div>
</div>
</body>
</html>
